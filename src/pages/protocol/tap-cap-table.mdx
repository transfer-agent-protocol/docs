
import { Card, Cards, Callout } from 'nextra/components'

# Onchain Cap Table Overview
<Callout emoji="⏳">This documentation is currently in public preview</Callout>

Let's go over smart contract and what it does. We're going to start with the Cap Table Factory.

## Factory

The [CapTableFactory](https://github.com/transfer-agent-protocol/tap-cap-table/blob/main/chain/src/CapTableFactory.sol) smart contract uses OpenZeppelin's upgradeable beacon pattern to create and manage upgradeable instances of cap tables for tokenized assets, leveraging proxy contracts for modularity and upgradability.

It lets the contract owner to create new cap table instances with specific initial parameters (ID, name, and initial shares authorized) and update the underlying cap table implementation for all instances via the beacon.

The contract tracks each cap table proxy created, offering a function to count the total number of cap tables managed. The contract also provides a function to retrieve the address of a cap table proxy by its index.

## Cap Table

The [CapTable](https://github.com/transfer-agent-protocol/tap-cap-table/blob/main/chain/src/CapTable.sol) contract manages tokenized stock with role-based access for secure operations. It tracks stakeholders, stock classes, and transactions, supporting stock issuance, repurchase, and adjustments. It uses OpenZeppelin's upgradeable contracts for enhanced functionality and security.

<Cards>
  <Card
    title="Deploy Cap Table Factory"
    href="/development/factory-deploy"
  />
  <Card
    title="Deploy Cap Table"
    href="/development/cap-table-deploy"
  />
</Cards>